<html>

<head>
  <title>5.3.5.2 运行原理 - MICAPS4.0系统用户手册</title>
  <meta http-equiv=Content-Type content="text/html; charset=gb2312">
  <meta name="GENERATOR" content="Macrobject Word-2-CHM">
  <link rel="stylesheet" href="Word2Chm.css" type="text/css">
  <link rel="stylesheet" href="default.css" type="text/css" />
</head>

<body lang=ZH-CN link=blue vlink=purple style='text-justify-trim:punctuation'>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
      <td class="moHeader">&nbsp;5.3.5.2 运行原理</td>
    </tr>
  </table>
  
  <p></p>

<div class=Section1 style='layout-grid:15.6pt'>



<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>对于</span><span
lang=EN-US>datainfopath</span><span style='font-family:宋体'>下配置的所有数据路径来说，</span><span
lang=EN-US>path</span><span style='font-family:宋体'>的值是最重要的配置信息。它有两个作用：</span></p>

<p class=MsoNormal style='text-indent:21.1pt'><b><span lang=EN-US>1</span></b><b><span
style='font-family:宋体'>）决定各配置段在系统中的组织形式</span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>MICAPS</span><span
style='font-family:宋体'>框架会把逐级文件夹下的</span><span lang=EN-US>ini</span><span
style='font-family:宋体'>文件中每一个配置段</span><span lang=EN-US>[section]</span><span
style='font-family:宋体'>按照</span><span lang=EN-US>path</span><span
style='font-family:宋体'>组织成一个树。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>以上面的</span><span
lang=EN-US>newecmwf_grib</span><span style='font-family:宋体'>高度场配置为例。其中</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>newecmwf_grib</span><span
style='font-family:宋体'>的</span><span lang=EN-US>path </span><span
style='font-family:宋体'>：</span><span lang=EN-US>newecmwf_grib</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>height</span><span
style='font-family:宋体'>的</span><span lang=EN-US>path </span><span
style='font-family:宋体'>：</span><span lang=EN-US>path</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>level</span><span
style='font-family:宋体'>的</span><span lang=EN-US>path </span><span
style='font-family:宋体'>：各层次的路径。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>那么这些配置在系统中将组织为如下形式：</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US><img width=430
height=214 src="temp.files/image395.gif"></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>每一个节点表示一个</span><span
lang=EN-US>ini</span><span style='font-family:宋体'>的配置段。</span></p>

<p class=MsoNormal style='text-indent:21.1pt'><b><span lang=EN-US>2</span></b><b><span
style='font-family:宋体'>）用于查询打开文件的配置。</span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>当在</span><span
lang=EN-US>MICAPS4</span><span style='font-family:宋体'>打开数据时，系统是按照</span><span
lang=EN-US>path</span><span style='font-family:宋体'>来查找如何找到其对应的</span><span
lang=EN-US>datainfo</span><span style='font-family:宋体'>配置的。系统首先把数据的文件路径中的</span><span
lang=EN-US>path</span><span style='font-family:宋体'>，去除文件名部分，比如我们打开一个高度场文件：</span></p>

<p class=MsoNormal style='text-indent:21.1pt'><span lang=EN-US>z:\data\newecmwf_grib\height\850\15112008.000</span></p>

<p class=MsoNormal style='text-indent:21.1pt'><span style='font-family:宋体'>它使用文件路径的中</span><span
lang=EN-US>newecmwf_grib\height\850</span><span style='font-family:宋体'>去</span><span
lang=EN-US>datainfo</span><span style='font-family:宋体'>中查找配置。</span></p>

<p class=MsoNormal style='text-indent:21.1pt'><span style='font-family:宋体'>此时会找到</span><span
lang=EN-US>datainfo</span><span style='font-family:宋体'>中的</span><span
lang=EN-US>newecmwf_grib.ini height.ini levels.ini</span><span
style='font-family:宋体'>配置信息，</span><span lang=EN-US>datainfo</span><span
style='font-family:宋体'>中的配置是逐级继承的。</span><span lang=EN-US>850</span><span
style='font-family:宋体'>节点，其父节点</span><span lang=EN-US>height</span><span
style='font-family:宋体'>以及</span><span lang=EN-US>newecmwf_grib</span><span
style='font-family:宋体'>中所有的节点配置都会被当前数据继承。</span></p>


</div>
  <p></p>

</body>

</html>
