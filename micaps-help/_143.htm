<html>

<head>
  <title>5.2.1 基础地理信息配置 - MICAPS4.0系统用户手册</title>
  <meta http-equiv=Content-Type content="text/html; charset=gb2312">
  <meta name="GENERATOR" content="Macrobject Word-2-CHM">
  <link rel="stylesheet" href="Word2Chm.css" type="text/css">
  <link rel="stylesheet" href="default.css" type="text/css" />
</head>

<body lang=ZH-CN link=blue vlink=purple style='text-justify-trim:punctuation'>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
      <td class="moHeader">&nbsp;5.2.1 基础地理信息配置</td>
    </tr>
  </table>
  
  <p></p>

<div class=Section1 style='layout-grid:15.6pt'>



<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>MICAPS4</span><span
style='font-family:宋体'>基础地理信息位于</span><span lang=EN-US>config/map</span><span
style='font-family:宋体'>目录下，其中</span><span lang=EN-US>map.ini</span><span
style='font-family:宋体'>用于配置加载地理图层设置，</span><span lang=EN-US>projection.ini</span><span
style='font-family:宋体'>用于配置投影相关参数。</span></p>

<p class=MsoNormal align=center style='text-align:center;text-indent:21.1pt'><b><span
lang=EN-US>map.ini</span></b></p>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US><img width=490 height=521 src="temp.files/image358.jpg"></span></p>

<p class=MsoCaption><span style='font-family:黑体'>图</span><span lang=EN-US>
5.2.1- </span><span
lang=EN-US>1</span><span lang=EN-US> map.ini</span><span style='font-family:
黑体'>配置文件</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>如上图所示，</span><span
lang=EN-US>map.ini</span><span style='font-family:宋体'>的配置信息分为</span><span
lang=EN-US>2</span><span style='font-family:宋体'>大部分，第一部分为基础设置，在</span><span
lang=EN-US>[map]</span><span style='font-family:宋体'>组内，主要包括以下信息：</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>projection</span><span
style='font-family:宋体'>：投影方式，该部分使用数字进行标识，标识方式与</span><span lang=EN-US>MICAPS3</span><span
style='font-family:宋体'>一致，但在</span><span lang=EN-US>MICAPS3</span><span
style='font-family:宋体'>中只是设置了投影的中文名称、投影中心点等信息，在</span><span lang=EN-US>MICAPS4</span><span
style='font-family:宋体'>中用户可自定义投影参数，具体信息会在</span><span lang=EN-US>projection.ini</span><span
style='font-family:宋体'>配置文件中进行介绍。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>scale</span><span
style='font-family:宋体'>：初始放大比例系数</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>lookat:</span><span
style='font-family:宋体'>初始显示中心位置</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>gridline.enable:</span><span
style='font-family:宋体'>是否显示经纬度线</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>gridline.spacing</span><span
style='font-family:宋体'>：经纬度线间距</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>backcolor.dark</span><span
style='font-family:宋体'>、</span><span lang=EN-US>backcolor.light</span><span
style='font-family:宋体'>：黑色主题以及白色主题下的地图背景颜色</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>minscale</span><span
style='font-family:宋体'>、</span><span lang=EN-US>maxscale</span><span
style='font-family:宋体'>：主地图的最小、最大比例系数该值为一个整数，</span><span lang=EN-US>0</span><span
style='font-family:宋体'>表示由系统框架定义</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>default.border.regions</span><span
style='font-family:宋体'>：默认突出显示的省份</span><span lang=EN-US>/</span><span
style='font-family:宋体'>城市名称，如</span> <span lang=EN-US>default.border.regions=</span><span
style='font-family:宋体'>北京市</span> <span style='font-family:宋体'>表示地图启动时突出显示北京市边界，</span><span
lang=EN-US>default.border.regions=</span><span style='font-family:宋体'>北京市</span><span
lang=EN-US>,</span><span style='font-family:宋体'>河北省表示启动时突出显示北京市以及河北省的边界。该处使用的边界文件在</span><span
lang=EN-US>data\meshes\borders\</span><span style='font-family:宋体'>目录下，如下图所示</span></p>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US><img width=208 height=198 src="temp.files/image359.jpg"></span></p>

<p class=MsoCaption><span style='font-family:黑体'>图</span><span lang=EN-US>
5.2.1- </span><span
lang=EN-US>2</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
style='font-family:宋体'>填写时要与文件名保持一致。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>default.border.color</span><span
style='font-family:宋体'>：突出显示边界颜色</span></p>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US><img width=194 height=147 src="temp.files/image360.jpg"></span></p>

<p class=MsoCaption><span style='font-family:黑体'>图</span> <span lang=EN-US>5.2.1-
</span><span
lang=EN-US>3</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>default.border.regions=</span><span
style='font-family:宋体'>四川省，配置显示的省份，修改“</span><span lang=EN-US>=</span><span
style='font-family:宋体'>”号后面的省份名称即可，</span><span lang=EN-US>default.border.color=0,255,0,255</span><span
style='font-family:宋体'>表示单省显示时的边框颜色，使用三基色的四个数据表示颜色。修改省份和颜色之后，保存此文件。以后打开系统默认显示都是这个文件保存的配置。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>default.mask.regions</span><span
style='font-family:宋体'>、</span><span lang=EN-US>default.mask.color</span><span
style='font-family:宋体'>：配置方法与</span><span lang=EN-US>default.border</span><span
style='font-family:宋体'>一致，只不过设置后的作用是作用区域单独显示。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>map.ini</span><span
style='font-family:宋体'>的第</span><span lang=EN-US>2</span><span
style='font-family:宋体'>部分为基础地理信息图层设置，主要用于标识基础地理信息显示的内容以及显示的样式，</span><span
lang=EN-US>MICAPS4</span><span style='font-family:宋体'>中默认的配置信息还带有相应的注释信息，用于用户自定义配置时查找方便。组名标识在</span><span
lang=EN-US>[]</span><span style='font-family:宋体'>内，全局唯一。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>以配置大陆边界为例：</span></p>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US><img width=241 height=101 id="图片 47" src="temp.files/image361.jpg"></span></p>

<p class=MsoCaption><span style='font-family:黑体'>图</span><span lang=EN-US>
5.2.1- </span><span
lang=EN-US>4</span><span lang=EN-US> </span><span style='font-family:黑体'>大陆边界</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>name</span><span
style='font-family:宋体'>：需要在程序前端显示的名称</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>file</span><span
style='font-family:宋体'>：需要打开显示的文件路径，该路径为相对于</span><span lang=EN-US>MICAPS4</span><span
style='font-family:宋体'>安装目录的相对路径</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>hidden</span><span
style='font-family:宋体'>：表示是否在系统启动的时候默认隐藏，默认值为</span><span lang=EN-US>false</span><span
style='font-family:宋体'>。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><a></a><a><span lang=EN-US>geometry</span></a><span
style='font-family:宋体'>：表示当前数据的几何形状，</span><span class=MsoCommentReference><span
lang=EN-US><a class=msocomanchor id="_anchor_7"
onmouseover="msoCommentShow('_anchor_7','_com_7')"
onmouseout="msoCommentHide('_com_7')" href="#_msocom_7" language=JavaScript
name="_msoanchor_7">[SG7]</a>&nbsp;</span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>style</span><span
style='font-family:宋体'>：表示该数据使用的显示样式文件，在后面的</span><span lang=EN-US>style</span><span
style='font-family:宋体'>样式章节会着重</span><span class=MsoCommentReference><span
lang=EN-US><a class=msocomanchor id="_anchor_8"
onmouseover="msoCommentShow('_anchor_8','_com_8')"
onmouseout="msoCommentHide('_com_8')" href="#_msocom_8" language=JavaScript
name="_msoanchor_8">[SG8]</a>&nbsp;</span></span><span style='font-family:宋体'>介绍配置方式。</span></p>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US><img width=218 height=298 id="图片 156" src="temp.files/image362.jpg"></span></p>

<p class=MsoCaption><span style='font-family:黑体'>图</span><span lang=EN-US>
5.2.1- </span><span
lang=EN-US>5</span><span lang=EN-US> </span><span style='font-family:黑体'>基础地图属性</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>用户如需添加自定义的数据，可以直接在该文件处添加自定义组，</span><span
lang=EN-US>MICAPS4</span><span style='font-family:宋体'>目前支持的数据有：</span><span
lang=EN-US>MICAPS3</span><span style='font-family:宋体'>二进制地图数据</span><span
lang=EN-US>(</span><span style='font-family:宋体'>如下图</span><span lang=EN-US>)</span><span
style='font-family:宋体'>、</span><span lang=EN-US>shp</span><span
style='font-family:宋体'>多边形</span><span lang=EN-US>(polyline)</span><span
style='font-family:宋体'>数据、</span><span lang=EN-US>mesh</span><span
style='font-family:宋体'>数据。</span></p>

<p class=MsoNormal><span lang=EN-US><img width=231 height=50
src="temp.files/image363.jpg"><img width=154 height=49
src="temp.files/image364.jpg"><img width=160 height=48
src="temp.files/image365.jpg"></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>注：</span><span
lang=EN-US>mesh</span><span style='font-family:宋体'>数据为</span><span lang=EN-US>MICAPS4</span><span
style='font-family:宋体'>定义的边界数据，该类型数据较其他类型加载速度更快。</span><span lang=EN-US>MICAPS4</span><span
style='font-family:宋体'>自带的大部分地图对原始数据进行了</span><span lang=EN-US>mesh</span><span
style='font-family:宋体'>优化以提升加载效率。在第二章“单省显示</span><span lang=EN-US>”</span><span
style='font-family:宋体'>中介绍过如何使用扩展第九类数据制作单省显示文件，该文件即为</span><span lang=EN-US>mesh</span><span
style='font-family:宋体'>文件，可直接作为边界在此处进行使用。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体'>如果不需要加载某一数据，只需要将该数据所在的组删除，或者在组对应的</span><span
lang=EN-US>[]</span><span style='font-family:宋体'>中加入一个</span><span lang=EN-US>#</span><span
style='font-family:宋体'>即可，如想要注释“国际湖泊”，只需要将</span><span lang=EN-US>[map.layer.lak]</span><span
style='font-family:宋体'>改成</span><span lang=EN-US>[#map.layer.lak]</span><span
style='font-family:宋体'>。</span></p>


</div>
  <p></p>

</body>

</html>
